/*
 * plugin.scss - Textorum formatting for Kipling schema subset
 *
 * Copyright (C) 2013 Crowd Favorite, Ltd. All rights reserved.
 *
 * This file is part of Textorum.
 *
 * Textorum is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the
 * Free Software Foundation; either version 2 of the License, or (at your
 * option) any later version.
 *
 * Textorum is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 * 02110-1301, USA.
 */
$dark: #006b94;
$mid: #99d1dd;
$light: #f0f0f0;
$highlight: #ddf556;

$defaultback: #444444;
$defaultfront: #cccccc;

$smalltext: 85%;
$normaltext: 100%;
$largetext: 120%;

$border: 1px dashed #333;

div[data-xmlel] {
  margin: 3px 0;
}

div[data-xmlel]:before {
  background-color: $defaultback;
  color: $defaultfront;
  content: attr(data-xmlel);
  font-size: $smalltext;
  font-weight: bold;
  margin: 0 4px;
  padding: 2px 4px;
  text-transform: capitalize;
}

div[data-xmlel="article"]:before,
div[data-xmlel="front"]:before {
  content: "";
  padding: 0;
}

div[data-xmlel="front"],
div[data-xmlel="back"] {
  background-color: $light;
  padding: .5em;
}

div[data-xmlel="journal-meta"] {
  background-color: $mid;
  border: 1px solid $defaultback;
  margin: 0 0 6px;
}

div[data-xmlel="journal-meta"]:before {
  content: "Journal Meta";
  display: block;
  margin: 0 0 5px;
  padding: 2px 5px;
}

div[data-xmlel="journal-id"] {
  // using imporant to override inline style
  display: inline-block !important;
  font-size: $normaltext;
  border: 1px dotted $highlight;
}

div[data-xmlel="journal-id"]:before {
  font-size: inherit;
  background-color: inherit;
  color: inherit;
  content: "JID: ";
}

div[data-xmlel="journal-title-group"]:before,
div[data-xmlel="journal-title"]:before {
  content: "";
  background-color: inherit;
  margin-right: 0px;
}

div[data-xmlel="journal-title"] {
  font-size: $largetext;
  font-weight: bold;
  // border: 1px dotted $highlight;
}

div[data-xmlel="journal-title"]:before {
  color: #333;
  content: "Journal Title:";
  font-size: inherit;
  font-weight: bold;
}

div[data-xmlel="issn"] {
  border: 1px dotted $highlight;
  // using important to override inline style
  display: inline-block !important;
  font-size: $normaltext;
}

div[data-xmlel="issn"]:before {
  font-size: inherit;
  content: "ISSN:";
  background-color: inherit;
  color: inherit;
  display: inline;
}

div[data-xmlel="publisher"]:before {
  background-color: inherit;
  font-size: inherit;
  color: inherit;
  content: "Published:";
}

div[data-xmlel^="publisher-"]:before {
  background-color: inherit;
  color: inherit;
  font-size: inherit;
  content: "";
}

div[data-xmlel^="publisher-"] {
  display: inline;
  border: 1px dotted $highlight;
}

div[data-xmlel="publisher-name"]:before {
  content: "by";
  font-weight: normal;
}

div[data-xmlel="publisher-loc"]:before {
  content: "at";
}

div[data-xmlel="article-meta"] {
  background-color: $mid;
  border: 1px solid $defaultback;
}

div[data-xmlel="article-meta"]:before {
  display: block;
  content: "Article Meta";
  margin: 0;
  padding: 2px 5px;
}

div[data-xmlel="article-id"] {
  // using !important to override inline style
  border: 1px dotted $highlight;
  display: inline-block !important;
  font-size: $normaltext;
}

div[data-xmlel="article-id"]:before {
  background: none;
  color: #333;
  content: "Article ID:";
  font-size: $normaltext;
  margin-left: 0;
}

div[data-xmlel="article-categories"]:before {
  content: "Article Categories";
}

div[data-xmlel="contrib-group"]:before {
  content: "Contributors";
}

div[data-xmlel="subject"],
div[data-xmlel="article-title"] {
  border: 1px dotted $highlight;
}

div[data-xmlel="subject"]:before,
div[data-xmlel="article-title"]:before {
  background: none;
  color: #333;
  content: "Subject:";
  font-size: inherit;
  font-weight: bold;
  margin-left: 0;
}

div[data-xmlel="article-title"]:before {
  content: "Article Title:";
}

div[data-xmlel="contrib"] {
  border-bottom: $border;
}

div[data-xmlel="title-group"]:before,
div[data-xmlel="contrib"]:before,
div[data-xmlel="subj-group"]:before {
  content: "";
}

div[data-xmlel="name"]:before {
  display: none;
}

div[data-xmlel="surname"],
div[data-xmlel="given-names"],
div[data-xmlel="day"],
div[data-xmlel="month"],
div[data-xmlel="year"] {
  display: inline;
}

div[data-xmlel="surname"]:before,
div[data-xmlel="given-names"]:before,
div[data-xmlel="author-comment"]:before,
div[data-xmlel="day"]:before,
div[data-xmlel="month"]:before,
div[data-xmlel="year"]:before,
div[data-xmlel="copyright-statement"]:before,
div[data-xmlel="copyright-year"]:before,
div[data-xmlel="license"]:before,
div[data-xmlel="abstract"]:before {
  background: none;
  color: #333;
  content: "Last Name:";
  font-size: inherit;
  font-weight: bold;
  margin-left: 0;
}

div[data-xmlel="given-names"]:before {
  content: "First Name:";
  padding-left: 10px;
}

div[data-xmlel="aff"] {
  font-size: $smalltext;
  padding-left: 10px;
}

div[data-xmlel="aff"]:before {
  content: "";
  padding: 0;
}

div[data-xmlel="author-comment"]:before {
  content: "Author Comment:";
  display: inline;
}

div[data-xmlel="author-comment"] .p {
  display: inline;
  padding: 0;
}

div[pub-type="epub"][data-xmlel="pub-date"]:before {
  content: "E-Pub";
}

div[pub-type="ppub"][data-xmlel="pub-date"]:before {
  content: "Print Publication";
}

div[data-xmlel="day"]:before {
  content: "Day:";
}

div[data-xmlel="month"]:before {
  content: "Month:";
}

div[data-xmlel="year"]:before {
  content: "Year:";
}

div[pub-type="collection"][data-xmlel="pub-date"]:before {
  content: "Collection";
}

div[data-xmlel="copyright-statement"]:before {
  content: "Copyright:";
}

div[data-xmlel="copyright-year"]:before {
  content: "Copyright Year:";
}

div[data-xmlel="license"]:before {
  content: "License:";
}

div[data-xmlel="license-p"] {
  display: inline;
}

div[data-xmlel="license-p"]:before {
  content: "";
  margin: 0;
  padding: 0;
}

div[data-xmlel="permissions"],
div[data-xmlel="abstract"] {
  border-top: $border;
}

div[data-xmlel="date"] {
  padding-left: 10px;
}

div[date-type="received"][data-xmlel="date"]:before {
  content: "Date Received";
}

div[date-type="rev-recd"][data-xmlel="date"]:before {
  content: "Date Revisions Received";
}

div[date-type="accepted"][data-xmlel="date"]:before {
  content: "Date Accepted";
}

div[data-xmlel="permissions"] {
  padding-top: 4px;
}

div[data-xmlel="abstract"]:before {
  content: "Abstract:";
}

div[data-xmlel="kwd-group"]:before {
  content: "Keywords";
}

div[data-xmlel="kwd"] {
  display: inline;
}

div[data-xmlel="kwd"]:before {
  content: "";
  padding: 0;
}

div[data-xmlel="kwd"]:after {
  content: ",";
}

div[data-xmlel="kwd"]:last-child:after {
  content: "";
}

// BODY CONTENT

div[data-xmlel="body"] {
  margin-top: 20px;
}

div[data-xmlel="body"]:before,
div[data-xmlel="sec"]:before,
div[data-xmlel="xref"]:before,
div[data-xmlel="p"]:before,
div[data-xmlel="title"]:before {
  content: "";
  margin: 0;
  padding: 0;
}

div[data-xmlel="article"]:before,
div[data-xmlel="front"]:before {
  background: #999;
  color: $light;
}

div[data-xmlel="xref"] {
  color: $dark;
  display: inline;
}

div[data-xmlel="title"] {
  background: $mid;
  color: $defaultback;
  margin-bottom: 6px;
  padding: 1px 4px 0;
}

div[data-xmlel="p"] {
  margin-bottom: 10px;
  padding: 0 4px;
}

div[data-xmlel="sec"] {
  margin-bottom: 20px;
}

// Inline Styles

span[data-xmlel="bold"]:before,
span[data-xmlel="italic"]:before {
  content: "";
  background-color: inherit;
  margin-right: 0px;
  padding: 0px;
}

span[data-xmlel="bold"] {
  display: inline;
  font-weight: bold;
}

span[data-xmlel="italic"] {
  display: inline;
  font-style: italic;
}

// Lists
div[data-xmlel="list"] {
  padding-left: 10px;
  display: block;
  list-style-position: inside;
  counter-reset: item;
}

div[data-xmlel="list"]:before, div[data-xmlel="list-item"]:before {
  content: "";
  background-color: inherit;
  margin-right: 0px;
  padding: 0px;
}

div[data-xmlel="list"] div[data-xmlel="list-item"] {
  display: list-item;
  list-style-type: disc;
  counter-increment: item;
}

div[data-xmlel="list"][list-type="order"] div[data-xmlel="list-item"]:before {
  color: inherit;
  background-color: inherit;
  display: inline;
  content: counter(item, decimal) ". ";
}

div[data-xmlel="list"][list-type="order"] div[data-xmlel="list-item"] {
  list-style-type: none;
}

// Tables
th {
  background: $dark;
  color: $light;
}

// Footer References

div[data-xmlel="ref"] {
  div[data-xmlel="label"],
  div[data-xmlel="mixed-citation"],
  div[data-xmlel="pub-id"] {
    display: inline;
  }
}

div[data-xmlel="back"]:before,
div[data-xmlel="ack"]:before,
div[data-xmlel="ref-list"]:before,
div[data-xmlel="ref"]:before,
div[data-xmlel="label"]:before,
div[data-xmlel="mixed-citation"]:before {
  content: "";
  margin: 0;
  padding: 0;
}

div[data-xmlel="ref-list"] {
  margin-bottom: 20px;
}

div[data-xmlel="ref"] {
  border-bottom: $border;
  padding: 5px 0;
  div[data-xmlel="label"] {
    margin-left: 0;
  }
}

div[data-xmlel="pub-id"]:before {
  background: none;
  color: #333;
  content: "Pub ID:";
  font-size: inherit;
  font-weight: bold;
  margin-left: 0;
}
